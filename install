# !/bin/bash
#
# installs dotfiles by symlinking them to $HOME
#

colour_green="\033[1;32m"
colour_red="\033[1;31m"

# FILES="ackrc
# vimrc
# bash_profile
# vim"
FILES=$(pwd)/_*

# echo "Linking files to $HOME"

for file in $FILES
do
	if [ ! -e "$file" ]; then
		echo -ne "${colour_red}Can't find $file" >&2
		echo -e '\033[0m'
		continue
	fi

	dot_file=$HOME/$(basename ${file/_/.})

	echo -n Linking $file to $dot_file 

	if [ -e "$dot_file" ]; then 
		echo -ne "\n${colour_red}$dot_file already exists. Delete it first." >&2
		echo -e '\033[0m'
		continue
	fi

	ln -s $file $dot_file

	success=$?

	if [ $success -eq 0 ]; then
		echo -e " ${colour_green}✔\033[0m"
	else
		echo -e " ${colour_red}✘\033[0m"
	fi
done
